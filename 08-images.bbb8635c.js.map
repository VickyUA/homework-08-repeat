{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,mCAEsBC,EAAWC,EAAOC,G,OAAlBC,EAAUC,MAAAC,KAAAC,U,UAAVH,I,OAAAA,EAAfI,EAAAT,EAAA,CAAAS,EAAAC,GAAAC,MAAA,SAAAC,EAA0BT,EAAOC,G,2FAEvBS,EAAAC,QACVC,IAAI,2BAA4B,CAC/BC,OAAQ,CACNC,IAAK,qCACLC,EAAGf,EACHC,KAAMA,EACNe,SAAU,GACVC,WAAY,QACZC,YAAa,aACbC,WAAY,UAGfC,MAAK,SAAAC,G,OAAOA,EAAJC,I,4EAEXC,QAAQC,MAAKC,EAAAC,I,yDAhBevB,MAAAC,KAAAC,U,CCAhC,IAAMsB,EAAOC,SAASC,cAAc,gBAC9BC,EAAUF,SAASC,cAAc,YACjCE,EAAUH,SAASC,cAAc,cAgCvC,SAASG,EAAaC,GACpB,OAAOA,EACJC,KACC,SAAAb,G,IAAGc,EAAYd,EAAZc,aAAcC,EAAIf,EAAJe,KAAMC,EAAKhB,EAALgB,MAAOC,EAAKjB,EAALiB,MAAOC,EAAQlB,EAARkB,SAAUC,EAASnB,EAATmB,U,MAC7C,+CACkCC,OAAtBN,EAAa,WAGNM,OAHeL,EAAK,8GAMpBK,OAHAJ,EAAM,oFAMHI,OAHHH,EAAM,uFAMFG,OAHDF,EAAS,wFAGEE,OAAVD,EAAU,qD,IAKpCE,KAAK,G,CApDVnB,QAAQoB,IAAI,SAEZZ,EAAQa,UAAUC,IAAI,UAEtBlB,EAAKmB,iBAAiB,UAEtB,SAAsBC,GACpBA,EAAEC,iBACFlB,EAAQmB,UAAY,GACpB,IAAMC,EAAQvB,EAAKwB,SAASC,YAAYC,MACpCpD,EAAO,EACXF,EAAWmD,EAAOjD,GAAMmB,MAAK,SAAAE,GAC3BQ,EAAQwB,mBAAmB,YAAatB,EAAaV,EAAKiC,OAC1DxB,EAAQa,UAAUY,OAAO,S,IAG3BzB,EAAQe,iBAAiB,SAEzB,WAGE/C,EAFc4B,EAAKwB,SAASC,YAAYC,MACxCpD,GAAQ,GACgBmB,MAAK,SAAAE,GAC3BQ,EAAQwB,mBAAmB,YAAatB,EAAaV,EAAKiC,OACtDjC,EAAKmC,UAAmB,GAAPxD,GACnB8B,EAAQa,UAAUC,IAAI,S","sources":["src/js/pixabay.js","src/js/08-images.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function fetchQuery(query, page) {\n  try {\n    return await axios\n      .get('https://pixabay.com/api/', {\n        params: {\n          key: '41535540-3e2fcae5f9a93b6d79476b27b',\n          q: query,\n          page: page,\n          per_page: 40,\n          image_type: 'photo',\n          orientation: 'horizontal',\n          safesearch: 'true',\n        },\n      })\n      .then(({ data }) => data);\n  } catch (error) {\n    console.error(error);\n  }\n\n  //   return response;\n}\n\n// export function fetchQuery() {\n//   return axios\n//     .get('https://pixabay.com/api/', {\n//       params: {\n//         key: '41535540-3e2fcae5f9a93b6d79476b27b',\n//         q: 'cat',\n//         page: 2,\n//         per_page: 40,\n//         image_type: 'photo',\n//         orientation: 'horizontal',\n//         safesearch: 'true',\n//       },\n//     })\n//     .then(({ data }) => data);\n// }\n","import { fetchQuery } from './pixabay';\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst moreBtn = document.querySelector('.load-more');\n\nconsole.log('hello');\n\nmoreBtn.classList.add('hidden');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  gallery.innerHTML = '';\n  const query = form.elements.searchQuery.value;\n  let page = 1;\n  fetchQuery(query, page).then(data => {\n    gallery.insertAdjacentHTML('beforeend', imagesMarkup(data.hits));\n    moreBtn.classList.remove('hidden');\n  });\n\n  moreBtn.addEventListener('click', hadleClick);\n\n  function hadleClick() {\n    const query = form.elements.searchQuery.value;\n    page += 1;\n    fetchQuery(query, page).then(data => {\n      gallery.insertAdjacentHTML('beforeend', imagesMarkup(data.hits));\n      if (data.totalHits < page * 40) {\n        moreBtn.classList.add('hidden');\n      }\n    });\n  }\n}\n\nfunction imagesMarkup(arr) {\n  return arr\n    .map(\n      ({ webformatURL, tags, likes, views, comments, downloads }) =>\n        `<div class=\"photo-card\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"/>\n        <div class=\"info\">\n          <p class=\"info-item\">\n            <b>Likes</br>${likes}</b>\n          </p>\n          <p class=\"info-item\">\n            <b>Views</br>${views}</b>\n          </p>\n          <p class=\"info-item\">\n            <b>Comments</br>${comments}</b>\n          </p>\n          <p class=\"info-item\">\n            <b>Downloads</br>${downloads}</b>\n          </p>\n        </div>\n      </div>`\n    )\n    .join('');\n}\n"],"names":["$bpxeT","parcelRequire","$bde98182df25f2a0$export$a1c549e76b7f385e","query","page","$bde98182df25f2a0$var$_fetchQuery","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","$dIxxU","default","get","params","key","q","per_page","image_type","orientation","safesearch","then","param","data","console","error","_ctx","t0","$46a0b7139b4f8fa0$var$form","document","querySelector","$46a0b7139b4f8fa0$var$gallery","$46a0b7139b4f8fa0$var$moreBtn","$46a0b7139b4f8fa0$var$imagesMarkup","arr","map","webformatURL","tags","likes","views","comments","downloads","concat","join","log","classList","add","addEventListener","e","preventDefault","innerHTML","query1","elements","searchQuery","value","insertAdjacentHTML","hits","remove","totalHits"],"version":3,"file":"08-images.bbb8635c.js.map"}