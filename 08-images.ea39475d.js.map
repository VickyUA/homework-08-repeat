{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEOC,eAAeC,EAAWC,EAAOC,GACtC,IACE,aAAaL,EAAAM,QACVC,IAAI,2BAA4B,CAC/BC,OAAQ,CACNC,IAAK,qCACLC,EAAGN,EACHC,KAAMA,EACNM,SAAU,GACVC,WAAY,QACZC,YAAa,aACbC,WAAY,UAGfC,MAAK,EAACC,KAAEA,KAAWA,G,CACtB,MAAOC,GACPC,QAAQD,MAAMA,E,EChBlB,MAAME,EAAOC,SAASC,cAAc,gBAC9BC,EAAUF,SAASC,cAAc,YACjCE,EAAUH,SAASC,cAAc,cAgCvC,SAASG,EAAaC,GACpB,OAAOA,EACJC,KACC,EAACC,aAAEA,EAAYC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,KAC7C,+CACYL,WAAsBC,8GAGfC,oFAGAC,uFAGGC,wFAGCC,wDAK1BC,KAAK,G,CApDVf,QAAQgB,IAAI,SAEZX,EAAQY,UAAUC,IAAI,UAEtBjB,EAAKkB,iBAAiB,UAEtB,SAAsBC,GACpBA,EAAEC,iBACFjB,EAAQkB,UAAY,GACpB,MAAMC,EAAQtB,EAAKuB,SAASC,YAAYC,MACxC,IAAIvC,EAAO,EACXF,EAAWsC,EAAOpC,GAAMU,MAAKC,IAC3BM,EAAQuB,mBAAmB,YAAarB,EAAaR,EAAK8B,OAC1DvB,EAAQY,UAAUY,OAAO,SAAS,IAGpCxB,EAAQc,iBAAiB,SAEzB,WACE,MAAMjC,EAAQe,EAAKuB,SAASC,YAAYC,MACxCvC,GAAQ,EACRF,EAAWC,EAAOC,GAAMU,MAAKC,IAC3BM,EAAQuB,mBAAmB,YAAarB,EAAaR,EAAK8B,OACtD9B,EAAKgC,UAAmB,GAAP3C,GACnBkB,EAAQY,UAAUC,IAAI,SAAS,G","sources":["src/js/pixabay.js","src/js/08-images.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function fetchQuery(query, page) {\n  try {\n    return await axios\n      .get('https://pixabay.com/api/', {\n        params: {\n          key: '41535540-3e2fcae5f9a93b6d79476b27b',\n          q: query,\n          page: page,\n          per_page: 40,\n          image_type: 'photo',\n          orientation: 'horizontal',\n          safesearch: 'true',\n        },\n      })\n      .then(({ data }) => data);\n  } catch (error) {\n    console.error(error);\n  }\n\n  //   return response;\n}\n\n// export function fetchQuery() {\n//   return axios\n//     .get('https://pixabay.com/api/', {\n//       params: {\n//         key: '41535540-3e2fcae5f9a93b6d79476b27b',\n//         q: 'cat',\n//         page: 2,\n//         per_page: 40,\n//         image_type: 'photo',\n//         orientation: 'horizontal',\n//         safesearch: 'true',\n//       },\n//     })\n//     .then(({ data }) => data);\n// }\n","import { fetchQuery } from './pixabay';\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst moreBtn = document.querySelector('.load-more');\n\nconsole.log('hello');\n\nmoreBtn.classList.add('hidden');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  gallery.innerHTML = '';\n  const query = form.elements.searchQuery.value;\n  let page = 1;\n  fetchQuery(query, page).then(data => {\n    gallery.insertAdjacentHTML('beforeend', imagesMarkup(data.hits));\n    moreBtn.classList.remove('hidden');\n  });\n\n  moreBtn.addEventListener('click', hadleClick);\n\n  function hadleClick() {\n    const query = form.elements.searchQuery.value;\n    page += 1;\n    fetchQuery(query, page).then(data => {\n      gallery.insertAdjacentHTML('beforeend', imagesMarkup(data.hits));\n      if (data.totalHits < page * 40) {\n        moreBtn.classList.add('hidden');\n      }\n    });\n  }\n}\n\nfunction imagesMarkup(arr) {\n  return arr\n    .map(\n      ({ webformatURL, tags, likes, views, comments, downloads }) =>\n        `<div class=\"photo-card\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"/>\n        <div class=\"info\">\n          <p class=\"info-item\">\n            <b>Likes</br>${likes}</b>\n          </p>\n          <p class=\"info-item\">\n            <b>Views</br>${views}</b>\n          </p>\n          <p class=\"info-item\">\n            <b>Comments</br>${comments}</b>\n          </p>\n          <p class=\"info-item\">\n            <b>Downloads</br>${downloads}</b>\n          </p>\n        </div>\n      </div>`\n    )\n    .join('');\n}\n"],"names":["$2shzp","parcelRequire","async","$9b3bf443d3cc2ade$export$a1c549e76b7f385e","query","page","default","get","params","key","q","per_page","image_type","orientation","safesearch","then","data","error","console","$856502fe04e4408b$var$form","document","querySelector","$856502fe04e4408b$var$gallery","$856502fe04e4408b$var$moreBtn","$856502fe04e4408b$var$imagesMarkup","arr","map","webformatURL","tags","likes","views","comments","downloads","join","log","classList","add","addEventListener","e","preventDefault","innerHTML","query1","elements","searchQuery","value","insertAdjacentHTML","hits","remove","totalHits"],"version":3,"file":"08-images.ea39475d.js.map"}